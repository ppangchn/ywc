{"ast":null,"code":"import _regeneratorRuntime from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/taptap432/Desktop/ywc/src/pages/Vacation/Vacation.js\";\nimport React, { Component } from 'react';\nimport config from '../../config';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport { Container, Row, Col } from 'reactstrap';\nimport '../../css/Vacation.css';\n\nvar Vacation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Vacation, _Component);\n\n  function Vacation() {\n    var _this;\n\n    _classCallCheck(this, Vacation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Vacation).call(this));\n    _this.state = {\n      cityList: ['Krung Thep Mahanakhon', 'Changwat Samut Prakan', 'Changwat Nonthaburi', 'Changwat Kanchanaburi', 'Changwat Prachin Buri', 'Changwat Nakhon Ratchasima', 'Changwat Nakhon Sawan', 'Changwat Maha Sarakham', 'Changwat Phetchaburi', 'Changwat Chon Buri', 'Changwat Samut Sakhon', 'Changwat Ubon Ratchathani', 'Changwat Uttaradit', 'Changwat Ratchaburi', 'Changwat Nakhon Pathom', 'Changwat Nakhon Nayok', 'Changwat Mukdahan', 'Changwat Surat Thani', 'Changwat Phra Nakhon Si Ayutthaya', 'Changwat Songkhla', 'Changwat Trang', 'Changwat Yala', 'Changwat Ranong', 'Changwat Pattani', 'Changwat Surin', 'Changwat Nan', 'Changwat Lamphun', 'Changwat Roi Et', 'Changwat Buriram', 'Changwat Loei'],\n      rainyDataF: {},\n      rainyDataS: {},\n      data: []\n    };\n    return _this;\n  }\n\n  _createClass(Vacation, [{\n    key: \"calRainyData\",\n    value: function calRainyData(dataEarth) {\n      console.log('SASDF', dataEarth);\n      var dataF = [];\n      var dataS = [];\n      var labelF = [];\n      var labelS = [];\n      console.log('earthhlove pang laa', typeof dataEarth, dataEarth.length); // data.forEach(e => {\n      //   console.log('earthrukpang',e)\n      //   let city = e.city.name\n      //   let sum = 0\n      //   e.list.map(c => {\n      //     if (c.rain !== undefined) {\n      //       if (Object.keys(c.rain).length !== 0) {\n      //         sum += Number(c.rain['3h'])\n      //       }\n      //     }\n      //   })\n      //   sum = Number((sum * 10).toFixed(0))\n      //   if (index <= 14) {\n      //     console.log('FIRST!', index)\n      //     dataF.push(sum)\n      //     labelF.push(city)\n      //   } else {\n      //     console.log('SECOND', index)\n      //     dataS.push(sum)\n      //     labelS.push(city)\n      //   }\n      // })\n\n      var datasetF = [{\n        label: 'rain',\n        backgroundColor: '#5bc2e1',\n        // borderColor: '#5bc2e1',\n        // borderWidth: 5,\n        // borderSkipped: 'top',\n        // hoverBackgroundcolor: '',\n        // hoverBorderColor: '',\n        // hoverBorderWidth:'',\n        data: dataF\n      }];\n      var datasetS = [{\n        label: 'rain',\n        backgroundColor: '#5bc2e1',\n        // borderColor: '#5bc2e1',\n        // borderWidth: 5,\n        // borderSkipped: 'top',\n        // hoverBackgroundcolor: '',\n        // hoverBorderColor: '',\n        // hoverBorderWidth:'',\n        data: dataS\n      }];\n      var rainyDataF = {\n        labels: labelF,\n        datasets: datasetF\n      };\n      var rainyDataS = {\n        labels: labelS,\n        datasets: datasetS\n      };\n      console.log('pang', rainyDataF, rainyDataS);\n      this.setState({\n        rainyDataF: rainyDataF,\n        rainyDataS: rainyDataS\n      });\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      var cityList = this.state.cityList;\n      var data = [];\n      cityList.map(function (c) {\n        axios.get(\"\".concat(config.url, \"?q=\").concat(c, \",TH&APPID=\").concat(config.key)).then(\n        /*#__PURE__*/\n        function () {\n          var _ref = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee(res) {\n            var citydata;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    citydata = res.data;\n                    data.push(citydata);\n                    _context.next = 4;\n                    return _this2.setState({\n                      data: data\n                    });\n\n                  case 4:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, this);\n          }));\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      });\n      this.calRainyData(data);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      try {\n        this.getData();\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          rainyDataF = _this$state.rainyDataF,\n          rainyDataS = _this$state.rainyDataS;\n      console.log('rainyDataF', rainyDataF);\n      console.log('rainyDataS', rainyDataS);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"http://www.puppylandla.com/images/wallpaper-light-blue.png\",\n        className: \"bg\",\n        alt: \"\",\n        style: {\n          zIndex: '-1',\n          height: '100vw'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(Container, {\n        style: {\n          marginTop: '80px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"vacation-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Rainy Season\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        data: rainyDataF,\n        options: {\n          scales: {\n            yAxes: [{\n              ticks: {\n                suggestedMin: 0,\n                stepSize: 50\n              }\n            }]\n          }\n        } // legend={{ display: false }}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        data: rainyDataS,\n        options: {\n          scales: {\n            yAxes: [{\n              ticks: {\n                suggestedMin: 0,\n                stepSize: 100\n              }\n            }]\n          }\n        } // legend={{ display: false }}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Vacation;\n}(Component);\n\nexport default Vacation;","map":{"version":3,"sources":["/Users/taptap432/Desktop/ywc/src/pages/Vacation/Vacation.js"],"names":["React","Component","config","axios","Bar","Container","Row","Col","Vacation","state","cityList","rainyDataF","rainyDataS","data","dataEarth","console","log","dataF","dataS","labelF","labelS","length","datasetF","label","backgroundColor","datasetS","labels","datasets","setState","map","c","get","url","key","then","res","citydata","push","calRainyData","getData","error","zIndex","height","marginTop","scales","yAxes","ticks","suggestedMin","stepSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport config from '../../config'\nimport axios from 'axios'\nimport { Bar } from 'react-chartjs-2'\nimport { Container, Row, Col } from 'reactstrap'\nimport '../../css/Vacation.css'\n\nclass Vacation extends Component {\n  constructor() {\n    super()\n    this.state = {\n      cityList: [\n        'Krung Thep Mahanakhon',\n        'Changwat Samut Prakan',\n        'Changwat Nonthaburi',\n        'Changwat Kanchanaburi',\n        'Changwat Prachin Buri',\n        'Changwat Nakhon Ratchasima',\n        'Changwat Nakhon Sawan',\n        'Changwat Maha Sarakham',\n        'Changwat Phetchaburi',\n        'Changwat Chon Buri',\n        'Changwat Samut Sakhon',\n        'Changwat Ubon Ratchathani',\n        'Changwat Uttaradit',\n        'Changwat Ratchaburi',\n        'Changwat Nakhon Pathom',\n        'Changwat Nakhon Nayok',\n        'Changwat Mukdahan',\n        'Changwat Surat Thani',\n        'Changwat Phra Nakhon Si Ayutthaya',\n        'Changwat Songkhla',\n        'Changwat Trang',\n        'Changwat Yala',\n        'Changwat Ranong',\n        'Changwat Pattani',\n        'Changwat Surin',\n        'Changwat Nan',\n        'Changwat Lamphun',\n        'Changwat Roi Et',\n        'Changwat Buriram',\n        'Changwat Loei'\n      ],\n      rainyDataF: {},\n      rainyDataS: {},\n      data:[]\n    }\n  }\n  calRainyData(dataEarth) {\n    console.log('SASDF', dataEarth)\n    let dataF = []\n    let dataS = []\n    let labelF = []\n    let labelS = []\n    console.log('earthhlove pang laa', typeof (dataEarth), dataEarth.length)\n    // data.forEach(e => {\n    //   console.log('earthrukpang',e)\n    //   let city = e.city.name\n    //   let sum = 0\n    //   e.list.map(c => {\n    //     if (c.rain !== undefined) {\n    //       if (Object.keys(c.rain).length !== 0) {\n    //         sum += Number(c.rain['3h'])\n    //       }\n    //     }\n    //   })\n    //   sum = Number((sum * 10).toFixed(0))\n    //   if (index <= 14) {\n    //     console.log('FIRST!', index)\n    //     dataF.push(sum)\n    //     labelF.push(city)\n    //   } else {\n    //     console.log('SECOND', index)\n    //     dataS.push(sum)\n    //     labelS.push(city)\n    //   }\n    // })\n\n    const datasetF = [\n      {\n        label: 'rain',\n        backgroundColor: '#5bc2e1',\n        // borderColor: '#5bc2e1',\n        // borderWidth: 5,\n        // borderSkipped: 'top',\n        // hoverBackgroundcolor: '',\n        // hoverBorderColor: '',\n        // hoverBorderWidth:'',\n        data: dataF\n      }\n    ]\n    const datasetS = [\n      {\n        label: 'rain',\n        backgroundColor: '#5bc2e1',\n        // borderColor: '#5bc2e1',\n        // borderWidth: 5,\n        // borderSkipped: 'top',\n        // hoverBackgroundcolor: '',\n        // hoverBorderColor: '',\n        // hoverBorderWidth:'',\n        data: dataS\n      }\n    ]\n    const rainyDataF = { labels: labelF, datasets: datasetF }\n    const rainyDataS = { labels: labelS, datasets: datasetS }\n    console.log('pang', rainyDataF, rainyDataS)\n    this.setState({ rainyDataF, rainyDataS })\n  }\n\n  getData() {\n    const { cityList } = this.state\n    let data = []\n    cityList.map(c => {\n      axios.get(`${config.url}?q=${c},TH&APPID=${config.key}`).then(async res => {\n        const citydata = res.data;\n        data.push(citydata)\n        await this.setState({data})\n      })\n    })\n    this.calRainyData(data)\n  }\n  componentDidMount() {\n    try {\n      this.getData()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  render() {\n    const { rainyDataF, rainyDataS } = this.state\n    console.log('rainyDataF', rainyDataF)\n    console.log('rainyDataS', rainyDataS)\n    return (\n      <div>\n        <img\n          src=\"http://www.puppylandla.com/images/wallpaper-light-blue.png\"\n          className=\"bg\"\n          alt=\"\"\n          style={{ zIndex: '-1', height: '100vw' }}\n        />\n        <Container style={{ marginTop: '80px' }}>\n          <Row>\n            <Col className=\"vacation-title\">\n              Rainy Season\n              <br />\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Bar\n                data={rainyDataF}\n                options={{\n                  scales: {\n                    yAxes: [\n                      {\n                        ticks: {\n                          suggestedMin: 0,\n                          stepSize: 50\n                        }\n                      }\n                    ]\n                  }\n                }}\n              // legend={{ display: false }}\n              />\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Bar\n                data={rainyDataS}\n                options={{\n                  scales: {\n                    yAxes: [\n                      {\n                        ticks: {\n                          suggestedMin: 0,\n                          stepSize: 100\n                        }\n                      }\n                    ]\n                  }\n                }}\n              // legend={{ display: false }}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default Vacation\n"]},"metadata":{},"sourceType":"module"}