{"ast":null,"code":"import _regeneratorRuntime from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/taptap432/Desktop/ywc/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/taptap432/Desktop/ywc/src/pages/Vacation/Vacation.js\";\nimport React, { Component } from 'react';\nimport config from '../../config';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport { Container, Row, Col } from 'reactstrap';\nimport '../../css/Vacation.css';\n\nvar Vacation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Vacation, _Component);\n\n  function Vacation() {\n    var _this;\n\n    _classCallCheck(this, Vacation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Vacation).call(this));\n    _this.state = {\n      cityList: ['Krung Thep Mahanakhon', 'Changwat Samut Prakan', 'Changwat Nonthaburi', 'Changwat Kanchanaburi', 'Changwat Prachin Buri', 'Changwat Nakhon Ratchasima', 'Changwat Nakhon Sawan', 'Changwat Maha Sarakham', 'Changwat Phetchaburi', 'Changwat Chon Buri', 'Changwat Samut Sakhon', 'Changwat Ubon Ratchathani', 'Changwat Uttaradit', 'Changwat Ratchaburi', 'Changwat Nakhon Pathom', 'Changwat Nakhon Nayok', 'Changwat Mukdahan', 'Changwat Surat Thani', 'Changwat Phra Nakhon Si Ayutthaya', 'Changwat Songkhla', 'Changwat Trang', 'Changwat Yala', 'Changwat Ranong', 'Changwat Pattani', 'Changwat Surin', 'Changwat Nan', 'Changwat Lamphun', 'Changwat Roi Et', 'Changwat Buriram', 'Changwat Loei'],\n      rainyDataF: {},\n      rainyDataS: {},\n      data: [],\n      earth: null\n    };\n    return _this;\n  }\n\n  _createClass(Vacation, [{\n    key: \"calRainyData\",\n    value: function () {\n      var _calRainyData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(data) {\n        var dataF, dataS, labelF, labelS, datasetF, datasetS, rainyDataF, rainyDataS;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('SASDF', data);\n                dataF = [];\n                dataS = [];\n                labelF = [];\n                labelS = [];\n                console.log('earthhlove pang laa', typeof data, data.length); // const res = await Promise.resolve(data[0])\n                // console.log(res)\n\n                data.forEach(function (e, index) {\n                  e.then(function (x) {\n                    var city = '';\n                    var list = [];\n                    city = x.city.name;\n                    list = x.list;\n                    var sum = 0;\n                    list.map(function (c) {\n                      if (c.rain !== undefined) {\n                        if (Object.keys(c.rain).length !== 0) {\n                          sum += Number(c.rain['3h']);\n                        }\n                      }\n                    });\n                    sum = Number((sum * 10).toFixed(0));\n\n                    if (index <= 14) {\n                      console.log('FIRST!', index);\n                      dataF.push(sum);\n                      labelF.push(city);\n                    } else {\n                      console.log('SECOND', index);\n                      dataS.push(sum);\n                      labelS.push(city);\n                    }\n                  });\n                });\n                datasetF = [{\n                  label: 'rain',\n                  backgroundColor: '#5bc2e1',\n                  // borderColor: '#5bc2e1',\n                  // borderWidth: 5,\n                  // borderSkipped: 'top',\n                  // hoverBackgroundcolor: '',\n                  // hoverBorderColor: '',\n                  // hoverBorderWidth:'',\n                  data: dataF\n                }];\n                datasetS = [{\n                  label: 'rain',\n                  backgroundColor: '#5bc2e1',\n                  // borderColor: '#5bc2e1',\n                  // borderWidth: 5,\n                  // borderSkipped: 'top',\n                  // hoverBackgroundcolor: '',\n                  // hoverBorderColor: '',\n                  // hoverBorderWidth:'',\n                  data: dataS\n                }];\n                rainyDataF = {\n                  labels: labelF,\n                  datasets: datasetF\n                };\n                rainyDataS = {\n                  labels: labelS,\n                  datasets: datasetS\n                };\n                console.log('pang', rainyDataF, rainyDataS);\n                this.setState({\n                  rainyDataF: rainyDataF,\n                  rainyDataS: rainyDataS\n                });\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function calRainyData(_x) {\n        return _calRainyData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"earth\",\n    value: function () {\n      var _earth = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(cityList) {\n        var data, earth, temp;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return cityList.map(\n                /*#__PURE__*/\n                function () {\n                  var _ref = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee2(c) {\n                    var res, temp;\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.next = 2;\n                            return axios.get(\"\".concat(config.url, \"?q=\").concat(c, \",TH&APPID=\").concat(config.key));\n\n                          case 2:\n                            res = _context2.sent;\n                            temp = res.data;\n                            return _context2.abrupt(\"return\", temp);\n\n                          case 5:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, this);\n                  }));\n\n                  return function (_x3) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n\n              case 2:\n                data = _context3.sent;\n                earth = [];\n                data.forEach(function (e) {\n                  e.then(function (x) {\n                    var pang = x.city.name;\n                    earth.push(pang.slice());\n                  });\n                });\n                this.setState({\n                  earth: earth[0]\n                }, console.log('ertertert', this.state.earth));\n                temp = earth.slice();\n                console.log('sfsdfsdf', earth);\n                console.log('pang', earth, data);\n                return _context3.abrupt(\"return\", data);\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function earth(_x2) {\n        return _earth.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var cityList, data;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                cityList = this.state.cityList;\n                data = [];\n                _context4.next = 4;\n                return this.earth(cityList);\n\n              case 4:\n                data = _context4.sent;\n                this.calRainyData(data); // cityList.map(c => {\n                //   axios.get(`${config.url}?q=${c},TH&APPID=${config.key}`).then(async res => {\n                //     const citydata = res.data;\n                //     data.push(citydata)\n                //     await this.setState({ data }, console.log(this.state.data))\n                //   })\n                // }).then(\n                //   console.log(this.state.data),\n                //   this.calRainyData(this.state.data)\n                // )\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function getData() {\n        return _getData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      try {\n        this.getData();\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          rainyDataF = _this$state.rainyDataF,\n          rainyDataS = _this$state.rainyDataS;\n      console.log('rainyDataF', rainyDataF);\n      console.log('rainyDataS', rainyDataS);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"http://www.puppylandla.com/images/wallpaper-light-blue.png\",\n        className: \"bg\",\n        alt: \"\",\n        style: {\n          zIndex: '-1',\n          height: '100vw'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), React.createElement(Container, {\n        style: {\n          marginTop: '80px',\n          color: 'rgb(0,25,128)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"vacation-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Rainy Season\", \"here->\".concat(this.state.earth), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        data: rainyDataF,\n        options: {\n          scales: {\n            yAxes: [{\n              ticks: {\n                suggestedMin: 0,\n                stepSize: 50\n              }\n            }]\n          }\n        } // legend={{ display: false }}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        data: rainyDataS,\n        options: {\n          scales: {\n            yAxes: [{\n              ticks: {\n                suggestedMin: 0,\n                stepSize: 100\n              }\n            }]\n          }\n        } // legend={{ display: false }}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Vacation;\n}(Component);\n\nexport default Vacation;","map":{"version":3,"sources":["/Users/taptap432/Desktop/ywc/src/pages/Vacation/Vacation.js"],"names":["React","Component","config","axios","Bar","Container","Row","Col","Vacation","state","cityList","rainyDataF","rainyDataS","data","earth","console","log","dataF","dataS","labelF","labelS","length","forEach","e","index","then","x","city","list","name","sum","map","c","rain","undefined","Object","keys","Number","toFixed","push","datasetF","label","backgroundColor","datasetS","labels","datasets","setState","get","url","key","res","temp","pang","slice","calRainyData","getData","error","zIndex","height","marginTop","color","scales","yAxes","ticks","suggestedMin","stepSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport config from '../../config'\nimport axios from 'axios'\nimport { Bar } from 'react-chartjs-2'\nimport { Container, Row, Col } from 'reactstrap'\nimport '../../css/Vacation.css'\n\nclass Vacation extends Component {\n  constructor() {\n    super()\n    this.state = {\n      cityList: [\n        'Krung Thep Mahanakhon',\n        'Changwat Samut Prakan',\n        'Changwat Nonthaburi',\n        'Changwat Kanchanaburi',\n        'Changwat Prachin Buri',\n        'Changwat Nakhon Ratchasima',\n        'Changwat Nakhon Sawan',\n        'Changwat Maha Sarakham',\n        'Changwat Phetchaburi',\n        'Changwat Chon Buri',\n        'Changwat Samut Sakhon',\n        'Changwat Ubon Ratchathani',\n        'Changwat Uttaradit',\n        'Changwat Ratchaburi',\n        'Changwat Nakhon Pathom',\n        'Changwat Nakhon Nayok',\n        'Changwat Mukdahan',\n        'Changwat Surat Thani',\n        'Changwat Phra Nakhon Si Ayutthaya',\n        'Changwat Songkhla',\n        'Changwat Trang',\n        'Changwat Yala',\n        'Changwat Ranong',\n        'Changwat Pattani',\n        'Changwat Surin',\n        'Changwat Nan',\n        'Changwat Lamphun',\n        'Changwat Roi Et',\n        'Changwat Buriram',\n        'Changwat Loei'\n      ],\n      rainyDataF: {},\n      rainyDataS: {},\n      data: [],\n      earth:null\n    }\n  }\n  async calRainyData(data) {\n    console.log('SASDF', data)\n    let dataF = []\n    let dataS = []\n    let labelF = []\n    let labelS = []\n    console.log('earthhlove pang laa', typeof (data), data.length)\n    // const res = await Promise.resolve(data[0])\n    // console.log(res)\n    data.forEach((e,index) => {\n      e.then(x => {\n        let city = ''\n        let list = [];\n        city = x.city.name\n        list = x.list\n        let sum = 0\n        list.map(c => {\n          if (c.rain !== undefined) {\n            if (Object.keys(c.rain).length !== 0) {\n              sum += Number(c.rain['3h'])\n            }\n          }\n        })\n        sum = Number((sum * 10).toFixed(0))\n        if (index <= 14) {\n          console.log('FIRST!', index)\n          dataF.push(sum)\n          labelF.push(city)\n        } else {\n          console.log('SECOND', index)\n          dataS.push(sum)\n          labelS.push(city)\n        }\n      })\n    })\n\n    const datasetF = [\n      {\n        label: 'rain',\n        backgroundColor: '#5bc2e1',\n        // borderColor: '#5bc2e1',\n        // borderWidth: 5,\n        // borderSkipped: 'top',\n        // hoverBackgroundcolor: '',\n        // hoverBorderColor: '',\n        // hoverBorderWidth:'',\n        data: dataF\n      }\n    ]\n    const datasetS = [\n      {\n        label: 'rain',\n        backgroundColor: '#5bc2e1',\n        // borderColor: '#5bc2e1',\n        // borderWidth: 5,\n        // borderSkipped: 'top',\n        // hoverBackgroundcolor: '',\n        // hoverBorderColor: '',\n        // hoverBorderWidth:'',\n        data: dataS\n      }\n    ]\n    const rainyDataF = { labels: labelF, datasets: datasetF }\n    const rainyDataS = { labels: labelS, datasets: datasetS }\n    console.log('pang', rainyDataF, rainyDataS)\n    this.setState({ rainyDataF, rainyDataS })\n  }\n  async earth(cityList) {\n    const data = await cityList.map(async (c) => {\n      const res = await axios.get(`${config.url}?q=${c},TH&APPID=${config.key}`)\n      const temp = res.data;\n      return temp\n    })\n    var earth =[];\n    data.forEach(e => {\n      e.then(function (x) {\n        var pang = x.city.name\n        earth.push((pang).slice());\n      })\n    })\n    this.setState({earth:earth[0]},console.log('ertertert',this.state.earth))\n    let temp = earth.slice()\n    console.log('sfsdfsdf',earth)\n    console.log('pang',earth,data)\n    return data;\n  }\n  async getData() {\n    const { cityList } = this.state\n    let data = []\n    data = await this.earth(cityList);\n    this.calRainyData(data)\n    // cityList.map(c => {\n    //   axios.get(`${config.url}?q=${c},TH&APPID=${config.key}`).then(async res => {\n    //     const citydata = res.data;\n    //     data.push(citydata)\n    //     await this.setState({ data }, console.log(this.state.data))\n    //   })\n    // }).then(\n\n    //   console.log(this.state.data),\n    //   this.calRainyData(this.state.data)\n    // )\n  }\n  componentDidMount() {\n    try {\n      this.getData()\n\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  render() {\n    const { rainyDataF, rainyDataS } = this.state\n    console.log('rainyDataF', rainyDataF)\n    console.log('rainyDataS', rainyDataS)\n    return (\n      <div>\n        <img\n          src=\"http://www.puppylandla.com/images/wallpaper-light-blue.png\"\n          className=\"bg\"\n          alt=\"\"\n          style={{ zIndex: '-1', height: '100vw' }}\n        />\n        <Container style={{ marginTop: '80px',color:'rgb(0,25,128)' }}>\n          <Row>\n            <Col className=\"vacation-title\">\n              Rainy Season{`here->${this.state.earth}`}\n              <br />\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Bar\n                data={rainyDataF}\n                options={{\n                  scales: {\n                    yAxes: [\n                      {\n                        ticks: {\n                          suggestedMin: 0,\n                          stepSize: 50\n                        }\n                      }\n                    ]\n                  }\n                }}\n              // legend={{ display: false }}\n              />\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Bar\n                data={rainyDataS}\n                options={{\n                  scales: {\n                    yAxes: [\n                      {\n                        ticks: {\n                          suggestedMin: 0,\n                          stepSize: 100\n                        }\n                      }\n                    ]\n                  }\n                }}\n              // legend={{ display: false }}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default Vacation\n"]},"metadata":{},"sourceType":"module"}